# identifi-api-sample-app
Identifi API Sample Application

This is a sample application that shows how to use the Identifi REST API to create an OLE package and send it out for signing.

1. Edit the OLEForm.cs file, setting the baseUrl and apiKey for your test environment and setting the recipient email address to a live email account you have access to.
2. Build and run the application.
3. Click the Load Profiles button to load the list of OLE profiles on the server to which the authenticated user has access.
4. Select a profile to load the available senders (users) for the profile and the available document types allowed in the Identifi application associated with the OLE profile.
5. Click the Create Package button to create a new package model, using the selected sender and document type, and send it to the server. When the package has been created on the server successfully, the package id from the server will be shown in the textbox. The created package will now appear in the OLE Inbox of the sender user.
6. Click the Send Package button to send the OLE package out for signing through the REST API. This can also be done manually by the sender user by opening the package in their OLE Inbox and sending it from there.

The sample code makes calls to the Identifi REST API through a set of client proxy classes that were generated using the NSwagStudio tool (https://github.com/RicoSuter/NSwag/wiki/NSwagStudio).
NSwagStudio loads a Swagger 2.0 specification and generates C# classes and Typescript classes making it easy to call a REST API without having to write a bunch of HttpClient-aware code from scratch.
For your convenience, the NSwagStudio project used to generate the proxy classes is included in the project (IdentifiAPI.nswag). This .nswag file can be loaded into NSwagStudio, the settings can be adjusted, and a new set of proxy classes can be generated based on the updated settings.
The NSwagStudio-generated proxy classes can be found in the SampleClient.cs file.
All generated proxy classes inherit from a SampleClientBase class found in SampleClientBase.cs. This base class allows the API key to be specified for each HTTP request being sent to the server.

NOTE: The proxy classes generated by NSwagStudio include additional classes for the models passed in the API. These model classes are generated with properties featuring "Pascal Casing" instead of the "camel Casing" actually specified in the Swagger specification. This is just a feature of the NSwagStudio C# code generator.

OLEForm.cs is where the real magic happens. The form demonstrates the various APIs that need to be called in order to create an OLE package.

The full Swagger documentation of the Identifi REST API can be found here (substitute localhost with the appropriate server name):

http://localhost/identifi.net/swagger